<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Cat Walk</title>
 </head>
 <body>
  
  <img style="position:absolute;" src="http://www.anniemation.com/clip_art/images/cat-walk.gif">
  

  <script>
  	var walkingCat = document.getElementsByTagName('img')[0];
  	walkingCat.style.left = "0px"
  	speed = 10
	timer = window.setInterval(catWalk, 50);
	catDanced = false


  	function catDance(){
  		walkingCat.src = "http://images.wikia.com/uncyclopedia/images/2/21/Dance_cat.gif";
  		window.clearInterval(timer);
  		timer = 0;
  		catDanced = true;
  		window.setTimeout(replaceCatWalk, 3000);

  	}

  	function replaceCatWalk(){
  		walkingCat.src = "http://www.anniemation.com/clip_art/images/cat-walk.gif";
  		timer = window.setInterval(catWalk, 50);
  		//walkingCat.style.left = 0;


  	}

  	function catWalk (){
  		catWalk.src = "http://www.anniemation.com/clip_art/images/cat-walk.gif"
  		var oldLeft = parseInt(walkingCat.style.left);
  		var newLeft = oldLeft + speed;
  		walkingCat.style.left = newLeft + "px";
  		console.log(walkingCat.newLeft)

		if (newLeft >= window.innerWidth-walkingCat.width){
			speed = speed * -1;
		}
		else if (newLeft <= 0){
			speed = speed * -1;
			catDanced = false
		}


		if (newLeft > (window.innerWidth/2)-100){
			if (catDanced == false){
  				catDance()	
  			}
			
		}

  	}
	

  </script>

 </body>
</html>